<Window x:Class="TaskManagerApp.TaskList.TaskListView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Task List" Height="450" Width="800"
        Background="#F0F2F5" FontFamily="Segoe UI" 
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock x:Name="TaskListName" 
                   FontSize="28" FontWeight="SemiBold" Margin="10" 
                   Text="Task List" Foreground="#2C3E50" 
                   HorizontalAlignment="Center"/>

        <!-- Filters and Buttons -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" 
                    Margin="20,10,20,10" 
                    HorizontalAlignment="Center">
            <!-- Filters -->
            <StackPanel Orientation="Horizontal" 
                        Margin="0,0,20,0" 
                        Background="Transparent">
                <TextBlock Text="Priority:" VerticalAlignment="Center" 
                           Margin="5,0" Foreground="#34495E" />
                <ComboBox x:Name="PriorityFilterComboBox" Width="100" SelectionChanged="PriorityFilterComboBox_SelectionChanged" 
                          Background="#ECF0F1" BorderBrush="#BDC3C7">
                    <ComboBoxItem Content="All" Tag="All"/>
                    <ComboBoxItem Content="Low" Tag="Low"/>
                    <ComboBoxItem Content="Medium" Tag="Medium"/>
                    <ComboBoxItem Content="High" Tag="High"/>
                </ComboBox>

                <TextBlock Text="Status:" VerticalAlignment="Center" Margin="10,0,5,0" Foreground="#34495E"/>
                <ComboBox x:Name="StatusFilterComboBox" Width="120" SelectionChanged="StatusFilterComboBox_SelectionChanged" 
                          Background="#ECF0F1" BorderBrush="#BDC3C7">
                    <ComboBoxItem Content="All" Tag="All"/>
                    <ComboBoxItem Content="Pending" Tag="Pending"/>
                    <ComboBoxItem Content="In Progress" Tag="InProgress"/>
                </ComboBox>
            </StackPanel>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" Margin="50,0,0,0">
                <!-- Go Back Button -->
                <Button x:Name="GoBackButton" Content="Go Back" 
                        Width="100" Margin="5"
                        HorizontalAlignment="Left" VerticalAlignment="Top" 
                        Background="#3498DB" Foreground="White" 
                        FontWeight="Bold" Padding="8,5"
                        BorderBrush="Transparent" Cursor="Hand"
                        Click="GoBackButton_Click"/>
                <Button Content="Add Task" Click="AddTaskButton_Click" 
                        Width="100" Margin="5" 
                        Background="#3498DB" Foreground="White" 
                        FontWeight="Bold" Padding="8,5"
                        BorderBrush="Transparent" Cursor="Hand"/>
                <Button Content="Remove Task" Click="RemoveTaskButton_Click" 
                        Width="120" Margin="5" 
                        Background="#E74C3C" Foreground="White"
                        FontWeight="Bold" Padding="8,5"
                        BorderBrush="Transparent" Cursor="Hand"/>
            </StackPanel>
        </StackPanel>

        <!-- Task List View -->
        <ListView x:Name="TasksListView" ItemsSource="{Binding FilteredTasksView}" 
                  SelectedItem="{Binding SelectedTask}" 
                  Margin="20,0" Grid.Row="2" SelectionChanged="TasksListView_SelectionChanged"
                  BorderBrush="#BDC3C7" BorderThickness="1" Background="White" Padding="5">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Task Name" DisplayMemberBinding="{Binding Name}" Width="150"/>
                    <GridViewColumn Header="Description" DisplayMemberBinding="{Binding Description}" Width="250"/>
                    <GridViewColumn Header="Due Date" DisplayMemberBinding="{Binding DueDateTime}" Width="200"/>
                    <GridViewColumn Header="Priority" DisplayMemberBinding="{Binding Priority}" Width="50"/>
                    <GridViewColumn Header="Status" DisplayMemberBinding="{Binding Status}" Width="75"/>
                </GridView>
            </ListView.View>
            <ListView.Resources>
                <Style TargetType="ListViewItem">
                    <Setter Property="Padding" Value="5"/>
                    <Setter Property="FontSize" Value="12"/>
                    <Setter Property="Background" Value="White"/>
                    <Setter Property="Margin" Value="5,0"/>
                    <Setter Property="BorderBrush" Value="Transparent"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="#3498DB"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#ECF0F1"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </ListView.Resources>
        </ListView>

        <!-- Selected Task Details -->
        <Border Grid.Row="3" Background="White" Padding="10" CornerRadius="5" Margin="20" BorderBrush="#BDC3C7" BorderThickness="1">
            <TextBlock x:Name="SelectedTaskDetails" FontSize="16" 
                   Text="No task selected." HorizontalAlignment="Center" FontWeight="Bold" Foreground="#2C3E50"/>
        </Border>
    </Grid>
</Window>
<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:av="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="av" x:Class="TaskManagerApp.MainWindow"
    xmlns:local="clr-namespace:TaskManagerApp"
    Title="Task Manager" Height="350" Width="525">

    <Window.Resources>
        <ObjectDataProvider x:Key="PriorityValues" MethodName="GetValues" ObjectType="{x:Type local:EnumHelper}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="local:Priority" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>

        <ObjectDataProvider x:Key="StatusValues" MethodName="GetValues" ObjectType="{x:Type local:EnumHelper}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="local:Status" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
            <TextBox x:Name="taskInput" Width="300" Margin="0,0,10,0" />
            <Button x:Name="addButton" Content="Add" Click="AddTask_Click" Width="48"/>
            <Button x:Name="editButton" Content="Edit" Click="EditTask_Click" Width="48"/>
            <Button x:Name="saveButton" Content="Save" Click="SaveEditedTask_Click" Width="48"/>
            <Button x:Name="removeButton" Content="Remove" Click="RemoveTask_Click" Width="50"/>
        </StackPanel>

        <!-- Header Row -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="5">
            <TextBlock Text="Name" FontWeight="Bold" Margin="20,0,40,0"/>
            <TextBlock Text="Due Date" FontWeight="Bold" Margin="0,0,60,0"/>
            <TextBlock Text="Priority" FontWeight="Bold" Margin="0,0,60,0"/>
            <TextBlock Text="Status" FontWeight="Bold"/>
        </StackPanel>

        <!-- Data Table -->
        <ListBox x:Name="taskListBox" Grid.Row="2" Margin="5,5,5,5" av:ItemsSource="{Binding Tasks}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <!-- Data Rows -->
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="{Binding Name}" Margin="5,0,40,0"/>
                        <DatePicker SelectedDate="{Binding DueDate}" Margin="0,0,70,0"/>
                        <ComboBox SelectedValue="{Binding Priority}" ItemsSource="{Binding Source={StaticResource PriorityValues}}" Margin="0,0,60,0"/>
                        <ComboBox SelectedValue="{Binding Status}" ItemsSource="{Binding Source={StaticResource StatusValues}}"/>
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Window>